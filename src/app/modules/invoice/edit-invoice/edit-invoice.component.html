<table mat-table [dataSource]="invoiceDatasource">
  <!-- Dynamically load columns -->
  <ng-container [matColumnDef]="col.key" *ngFor="let col of columnSchema">
    <th mat-header-cell *matHeaderCellDef>{{ col.label }}</th>
    <td mat-cell *matCellDef="let element">
      <!-- If the edit element button is selected to not edit -->
      <div [ngSwitch]="col.type" *ngIf="!element.isEdit">
        <div *ngSwitchCase="'isEdit'">
          <!-- Toggle button edit element -->
          <button
            mat-button
            class="btn-edit"
            (click)="element.isEdit = !element.isEdit"
          >
            Edit
          </button>
        </div>
        <!-- {{ element[col.key] }} -->
        <span *ngSwitchDefault>{{ element[col.key] }}</span>
      </div>

      <!-- If the edit element button is selected to edit -->
      <div [ngSwitch]="col.type" *ngIf="element.isEdit">
        <div *ngSwitchCase="'isEdit'">
          <!-- Toggle button edit element -->
          <button
            mat-button
            class="btn-edit"
            (click)="element.isEdit = !element.isEdit"
          >
            Done
          </button>
        </div>

        <!-- If the input field type is date; use date-picker -->
        <!--
        <mat-form-field *ngSwitchCase="'date'" appearance="fill">
          <mat-label>Choose a Date</mat-label>
          <input matInput [matDatepicker]="picker" [(ngModel)]="element[col.key]" />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        -->

        <!-- For the remaining input field types -->
        <!-- <mat-form-field *ngSwitchDefault> -->
        <!-- <input [type]="col.type" matInput [(ngModel)]="element[col.key]" /> -->
        <!-- <input [type]="col.type" matInput formControlName="element[col.key]"/> -->
        <!-- </mat-form-field> -->
      </div>
    </td>
  </ng-container>

  <!-- row headers & row definitions -->
  <tr mat-header-row *matHeaderRowDef="invoiceColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: invoiceColumns"></tr>

  <!-- pagination -->
  <mat-paginator
    [pageSizeOptions]="[5, 25, 50, 75]"
    aria-label="select page of invoice"
  ></mat-paginator>
</table>
<!-- <div *ngFor="let x of invoiceDatasource.data">{{ x.id }}</div> -->
<!-- <button mat-button (click)="closeDialog()">Cancel</button> -->
<button mat-button mat-dialog-close>Cancel</button>
<button
  class="button-add-row"
  color="primary"
  mat-raised-button
  type="submit"
  (click)="addRow()"
>
  Add
</button>
