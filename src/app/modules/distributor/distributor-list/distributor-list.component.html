<!-- mat-button -->
<button
  mat-raised-button
  class="example-full-width"
  color="primary"
  (click)="openDistributorDialog()"
>
  Add Distributor
</button>

<mat-drawer-container class="example-container">
  <mat-drawer class="example-drawer" mode="side" opened>
    <mat-card>
      <span class="heading">Distributors</span>
      <hr />

      <mat-selection-list #distributors [multiple]="false">
        <mat-list-option
          *ngFor="let element of distributor"
          [value]="element"
          (click)="getSelectedInvoice(element.id)"
        >
          {{ element.name }}
        </mat-list-option>
      </mat-selection-list>
    </mat-card>
  </mat-drawer>
  <mat-drawer-content class="example-content">
    <mat-card>
      <span class="heading">Details</span>
      <hr />
      <div *ngFor="let d of distributors.selectedOptions.selected">
        <div class="distributor-details">
          <div>
            <b>Distributor Name:</b>
            {{ d.value.name }}
            <br />
            <b>GSTIN:</b>
            {{ d.value.gstin }}
            <br />
            <b>Phone Number:</b>
            {{ d.value.phoneNumber }}
            <br />
            <b>Email:</b>
            {{ d.value.email }}
            <br />
          </div>
          <div>
            <b>GST Address:</b>
            {{ d.value.address }}
            <br />
            <b>City:</b>
            {{ d.value.city }}
            <br />
            <b>State:</b>
            {{ d.value.state }}
            <br />
            <b>Postal code:</b>
            {{ d.value.pinCode }}
            <br />
          </div>
        </div>
        <!-- mat-button -->
        <button
          mat-raised-button
          class="example-full-width"
          color="primary"
          (click)="editSelectedDistributor(d.value)"
        >
          Edit Distributor
        </button>
      </div>
    </mat-card>

    <br />

    <mat-card>
      <span class="heading">Transactions</span>
      <br />
      <mat-chip-listbox>
        <mat-chip *ngFor="let chosen of distributors.selectedOptions.selected">
          {{ chosen.value.name }}
        </mat-chip>
      </mat-chip-listbox>
      <hr />

      <table
        mat-table
        [dataSource]="invoiceDatasource"
        class="mat-elevation-z8"
      >
        <ng-container matColumnDef="invoiceNumber">
          <th mat-header-cell *matHeaderCellDef>Invoice Number</th>
          <td mat-cell *matCellDef="let element">
            {{ element.invoiceNumber }}
          </td>
        </ng-container>

        <ng-container matColumnDef="invoiceDate">
          <th mat-header-cell *matHeaderCellDef>Invoice Date</th>
          <td mat-cell *matCellDef="let element">{{ element.invoiceDate }}</td>
        </ng-container>

        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Amount</th>
          <td mat-cell *matCellDef="let element">{{ element.amount }}</td>
        </ng-container>

        <ng-container matColumnDef="totalDiscount">
          <th mat-header-cell *matHeaderCellDef>Total Discount</th>
          <td mat-cell *matCellDef="let element">
            {{ element.totalDiscount }}
          </td>
        </ng-container>

        <ng-container matColumnDef="actualAmount">
          <th mat-header-cell *matHeaderCellDef>Actual Amount</th>
          <td mat-cell *matCellDef="let element">{{ element.actualAmount }}</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element">
            <button
              mat-raised-button
              color="primary"
              (click)="editSelectedInvoice(element)"
            >
              Edit Invoice
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="invoiceColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: invoiceColumns"></tr>
      </table>
    </mat-card>
  </mat-drawer-content>
</mat-drawer-container>
